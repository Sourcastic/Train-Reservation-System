<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<HBox maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" spacing="20" style="-fx-background-color: #ECF0F1;" stylesheets="/com/example/trainreservationsystem/stylesheet.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.trainreservationsystem.controllers.admin.ManageDiscountsController">
    <padding>
        <Insets bottom="20" left="20" right="20" top="20" />
    </padding>

    <!-- LEFT SECTION: Discounts Table -->
    <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20;" HBox.hgrow="ALWAYS">
        <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="All Discounts" />

        <TableView fx:id="discountsTable" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="codeCol" prefWidth="100" text="Code" />
                <TableColumn fx:id="nameCol" prefWidth="120" text="Name" />
                <TableColumn fx:id="typeCol" prefWidth="100" text="Type" />
                <TableColumn fx:id="descriptionCol" prefWidth="150" text="Description" />
                <TableColumn fx:id="percentageCol" prefWidth="80" text="%" />
                <TableColumn fx:id="amountCol" prefWidth="80" text="Amount" />
                <TableColumn fx:id="validFromCol" prefWidth="100" text="Valid From" />
                <TableColumn fx:id="validToCol" prefWidth="100" text="Valid To" />
                <TableColumn fx:id="statusCol" prefWidth="80" text="Status" />
            </columns>
        </TableView>
    </VBox>

    <!-- RIGHT SECTION: Form -->
    <VBox fx:id="formBox" spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20;" prefWidth="400">
        <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="Discount Details" />

        <TextField fx:id="nameField" promptText="Discount Name" />
        <TextField fx:id="codeField" promptText="Discount Code" />
        <TextArea fx:id="descriptionField" promptText="Description" prefRowCount="3" />

        <ComboBox fx:id="typeCombo" promptText="Type" />
        <ComboBox fx:id="scheduleCombo" promptText="Schedule (Optional)" />

        <HBox spacing="10">
            <TextField fx:id="percentageField" promptText="Percentage" HBox.hgrow="ALWAYS" />
            <TextField fx:id="amountField" promptText="Fixed Amount" HBox.hgrow="ALWAYS" />
        </HBox>

        <TextField fx:id="maxUsesField" promptText="Max Uses (0 = unlimited)" />

        <HBox spacing="10">
            <DatePicker fx:id="validFromPicker" promptText="Valid From" HBox.hgrow="ALWAYS" />
            <DatePicker fx:id="validToPicker" promptText="Valid To" HBox.hgrow="ALWAYS" />
        </HBox>

        <CheckBox fx:id="activeCheckbox" text="Active" selected="true" />

        <HBox spacing="10">
            <Button fx:id="saveButton" text="Save" onAction="#handleSave" HBox.hgrow="ALWAYS" />
            <Button fx:id="clearButton" text="Clear" onAction="#clearForm" HBox.hgrow="ALWAYS" />
        </HBox>

        <Button fx:id="deleteButton" text="Delete" onAction="#handleDelete" style="-fx-background-color: #d20f39; -fx-text-fill: white;" disable="true" />
        <Button text="Back" onAction="#handleBack" />
    </VBox>
</HBox>


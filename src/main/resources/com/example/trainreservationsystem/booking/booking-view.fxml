<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.trainreservationsystem.controllers.member.booking.BookingController">
    <center>
        <VBox alignment="TOP_CENTER" maxWidth="900.0" spacing="24.0" styleClass="form-card">
            <padding>
                <Insets bottom="32.0" left="32.0" right="32.0" top="32.0" />
            </padding>

            <Label styleClass="page-title" text="Book Your Journey" />

            <!-- Train Details Card -->
            <VBox spacing="8.0" styleClass="info-card">
                <padding>
                    <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                </padding>
                <Label fx:id="routeLabel" styleClass="route-title"/>
                <HBox spacing="24.0">
                    <Label fx:id="dateLabel" styleClass="info-label"/>
                    <Label fx:id="timeLabel" styleClass="info-label"/>
                    <Label fx:id="priceLabel" styleClass="price-label"/>
                </HBox>
            </VBox>

            <!-- Passenger Form -->
            <VBox spacing="16.0">
                <Label text="Passenger Details" styleClass="section-title"/>

                <HBox spacing="16.0">
                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                        <Label text="Full Name" styleClass="field-label"/>
                        <TextField fx:id="nameField" promptText="Enter passenger name" styleClass="modern-field"/>
                    </VBox>

                    <VBox spacing="8.0" prefWidth="150.0">
                        <Label text="Age" styleClass="field-label"/>
                        <Spinner fx:id="ageSpinner" editable="true" prefWidth="150.0" styleClass="modern-spinner"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Seat Selection -->
            <VBox spacing="16.0">
                <Label text="Select Seats" styleClass="section-title"/>
                <Label fx:id="selectedSeatsLabel" text="No seats selected" styleClass="info-label"/>

                <ScrollPane fitToWidth="true" maxHeight="300.0" styleClass="seat-scroll">
                    <VBox spacing="16.0">
                        <padding>
                            <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                        </padding>

                        <!-- Seat Legend -->
                        <HBox spacing="24.0" alignment="CENTER">
                            <HBox spacing="8.0">
                                <Button styleClass="seat-available-legend" prefWidth="30.0" prefHeight="30.0" disable="true"/>
                                <Label text="Available" styleClass="legend-label"/>
                            </HBox>
                            <HBox spacing="8.0">
                                <Button styleClass="seat-selected-legend" prefWidth="30.0" prefHeight="30.0" disable="true"/>
                                <Label text="Selected" styleClass="legend-label"/>
                            </HBox>
                            <HBox spacing="8.0">
                                <Button styleClass="seat-occupied-legend" prefWidth="30.0" prefHeight="30.0" disable="true"/>
                                <Label text="Occupied" styleClass="legend-label"/>
                            </HBox>
                        </HBox>

                        <!-- Seat Grid -->
                        <GridPane fx:id="seatGrid" hgap="8.0" vgap="8.0" alignment="CENTER">
                            <!-- Seats will be added dynamically -->
                        </GridPane>
                    </VBox>
                </ScrollPane>
            </VBox>

            <!-- Action Buttons -->
            <HBox spacing="16.0" alignment="CENTER">
                <Button text="Back" onAction="#handleBack" styleClass="secondary-button" prefWidth="150.0"/>
                <Button fx:id="proceedButton" text="Proceed to Payment" onAction="#handleProceedToPayment" styleClass="button" prefWidth="200.0" disable="true"/>
            </HBox>

        </VBox>
    </center>
</BorderPane>
